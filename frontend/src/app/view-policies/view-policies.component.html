<br>
<div class="jumbotron" *ngIf="isRouted !== false">
  <div class="col-md-8 offset-md-2 mt-5">
    <div class="card">
      <h4 class="card-header">List of all policies</h4>
      <div class="card-body">
        <table class="table table-hover table">
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Start Date</th>
              <th scope="col">Status</th>
              <th scope="col">Username</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let policy of policies">
              <td>{{policy.id}}</td>
              <td>{{policy.startdate}}</td>
              <td>
                <span class="badge" [ngClass]="{
                  'badge-success': policy.status === 'active',
                  'badge-warning': policy.status === 'renewed',
                  'badge-danger': policy.status === 'cancelled'
                }">
                  {{policy.status}}
                </span>
              </td>
              <td>{{policy.username}}</td>
              <td>
                <button class="btn btn-sm btn-primary" (click)="viewDetails(policy.quotationId)">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                  Details
                </button>
                &nbsp;
                <button class="btn btn-sm btn-warning" (click)="updatePolicy(policy, 'renewed')">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                  Renew
                </button>
                &nbsp;
                <button class="btn btn-sm btn-danger" (click)="updatePolicy(policy, 'cancelled')">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                  Cancel
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>